package newPackage;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.Select;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

public class TestClass {

	public WebDriver driver;

	@BeforeMethod
	public void setup() {

		driver = new ChromeDriver();

	}
	
	@Test
	public void loadWeb() throws InterruptedException {
		
		driver.get("http://blazedemo.com/");
		
		WebElement drpSource = driver.findElement(By.xpath("//*[@name='fromPort']"));
		Select Source = new Select(drpSource);
		Source.selectByVisibleText("San Diego");
		
		//Thread.sleep(1000);
		
		WebElement drpDestination = driver.findElement(By.xpath("//*[@name='toPort']"));
		Select Destination = new Select(drpDestination);
		Destination.selectByVisibleText("Dublin");
		
		//Thread.sleep(1000);
		
		WebElement findFlight = driver.findElement(By.xpath("//*[@value='Find Flights']"));
		findFlight.click();
		//Thread.sleep(1000);
		
		//Find cheapest price
		
		List<WebElement> rows = driver.findElements(By.xpath("/html/body/div/table/tbody/tr"));
		System.out.println(rows.size());
		
		List<WebElement> cols = driver.findElements(By.xpath("/html/body/div/table/thead/tr/th"));
		System.out.println(cols.size());
		
		for (int i=1; i<=rows.size(); ++i) {
			System.out.println(i);
		    System.out.println(driver.findElement(By.xpath("/html/body/div/table/tbody/tr[" + i + "]/td[" + cols.size() + "]")).getText());  
		 }
	}

	
	@AfterMethod
	public void close() {
		driver.close();
	}
	

}
